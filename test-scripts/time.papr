graph main {
    @in {}
    @out { @dac0 }
    #in { 
        #period(0.1 : 8) = 1.0
        #width(0.001 : 0.999) = 0.5
        #delay(0.001 : 5.0) = 1.0
    }
    #out { #val }
    ~ {
        create s: sineosc;
        create dl: delay;
        s.#freq <- #440;
        s.#amp <- #1;
        dl.#delay <- #delay;

        create ck: clock;
        ck.#period <- #period;
        ck.#width <- #width;

        let @final <- (s.@out * ck.@out);

        dl.@input <- @final;
        @dac0 <- (dl.@out + @final);
    }
}