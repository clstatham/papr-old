graph main {
    @in {}
    @out { @dac0 }
    #in { 
        #period(0.1 : 8) = 1.0
        #width(0.001 : 0.999) = 0.5
        #delay(0.001 : 5.0) = 1.0
    }
    #out { #val }
    ~ {
        let s: sineosc;
        let dl: delay;
        s.#freq <- #440;
        s.#amp <- #1;
        dl.#delay <- #delay;

        let ck: clock<1.0 0.5>;
        ck.#period <- #period;
        ck.#width <- #width;

        dl.@input <- (s.@out * ck.@out);
        @dac0 <- (dl.@out + s.@out);
    }
}